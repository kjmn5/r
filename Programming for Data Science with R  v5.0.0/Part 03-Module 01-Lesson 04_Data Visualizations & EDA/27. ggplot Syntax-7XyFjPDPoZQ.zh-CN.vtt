WEBVTT
Kind: captions
Language: zh-CN

00:00:00.130 --> 00:00:02.740
我们对散点图做些改进

00:00:02.740 --> 00:00:05.080
这次我们开始时先将 qplot

00:00:05.080 --> 00:00:09.590
语法切换成更加正式和详细的 ggplot 语法

00:00:09.590 --> 00:00:12.530
我在第三课里提到这一点 ggplot 语法允许

00:00:12.530 --> 00:00:16.149
我们指定更加复杂的图形

00:00:16.149 --> 00:00:18.690
只是提醒一下 这是用户创建散点图的 qplot 语法

00:00:18.690 --> 00:00:21.970
ggplot 是另一种类似 qplot 的绘图函数

00:00:21.970 --> 00:00:26.180
其语法略微不同

00:00:26.180 --> 00:00:29.560
这是产生这个散点图的等效代码

00:00:29.560 --> 00:00:32.740
qplot 与 ggplot 之间的主要差别是

00:00:32.740 --> 00:00:35.610
我们需要指出需要 geom 或者图表类型

00:00:35.610 --> 00:00:38.335
在这个例子中 我们需要散点图 因此将使用

00:00:38.335 --> 00:00:40.760
geom_point 你可以在 ggplot 参考中看到完整的图表类型列表

00:00:40.760 --> 00:00:44.550
在讲师注释中提供有链接

00:00:44.550 --> 00:00:48.160
两种绘图函数之间的第二大区别是 ggplot 使用

00:00:48.160 --> 00:00:51.760
这种 aes 包裹 我们需要将我们的 x 和 y 变量包裹在

00:00:51.760 --> 00:00:55.030
这个包装函数 aes中 不要太担心这一点

00:00:55.030 --> 00:00:57.449
我们将在以后详细介绍 现在我希望

00:00:57.449 --> 00:00:59.573
对年龄划分范围 我将要在年龄上运行

00:00:59.573 --> 00:01:02.169
这个摘要命令 算出下限和上限

00:01:02.169 --> 00:01:05.909
最小用户年龄是 13 岁

00:01:05.909 --> 00:01:10.588
最大是 113 岁 现在我们点击 x 轴

00:01:10.588 --> 00:01:13.753
上的年龄 90 和年龄 13 这样看起来合乎情理

00:01:13.753 --> 00:01:16.585
因为 13 岁以下的用户不允许使用 Facebook

00:01:16.585 --> 00:01:19.882
我们其实也不肯定报出 90 以上高龄的用户

00:01:19.882 --> 00:01:22.562
是否讲的是真话

00:01:22.562 --> 00:01:25.724
这样 我们将使用 xlim 图层 现在我

00:01:25.724 --> 00:01:29.216
不将 xlim 传递给 ggplot 相反 我将其用作

00:01:29.216 --> 00:01:32.300
它外部的附加图层 注意我们使用

00:01:32.300 --> 00:01:35.740
这个加法运算符向图形中添加新图层

00:01:35.740 --> 00:01:39.050
这将改变我们的 x 轴的外观

00:01:39.050 --> 00:01:41.810
我其实推荐你在建立图形时每次添加一个图层

00:01:41.810 --> 00:01:46.110
这样允许你调试并发现任何损坏的代码

00:01:46.110 --> 00:01:50.260
就这样 这幅年龄在 13 至 90 岁用户的图形更好看

