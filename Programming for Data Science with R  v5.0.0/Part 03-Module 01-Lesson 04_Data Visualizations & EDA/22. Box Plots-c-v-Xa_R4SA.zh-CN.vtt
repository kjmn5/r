WEBVTT
Kind: captions
Language: zh-CN

00:00:00.270 --> 00:00:03.310
我们来使用另一种可视化来帮助我们观察变量的分布

00:00:03.310 --> 00:00:06.230
叫做箱线图

00:00:06.230 --> 00:00:08.950
如果你不熟悉箱线图 可在讲师注释中查找资源

00:00:08.950 --> 00:00:12.280
那儿也有优达学城统计课程的链接

00:00:12.280 --> 00:00:15.310
你可以测试一下自己的知识

00:00:15.310 --> 00:00:17.880
你可能记起以前我们按性别划分好友数

00:00:17.880 --> 00:00:22.190
使用分面（Facet)创建成对直方图 代码就像这样

00:00:22.190 --> 00:00:25.360
我们不用这些直方图 而是按性别生成好友数箱线图

00:00:25.360 --> 00:00:28.120
这样可以快速看到分布之间的差异

00:00:28.120 --> 00:00:31.470
特别是我们将要看到两个组中位数之间的差异

00:00:31.470 --> 00:00:34.490
还要记住

00:00:34.490 --> 00:00:38.400
当我们传递单个变量时 qplot 函数会自动生成直方图 (/g)

00:00:38.400 --> 00:00:41.550
所以我们需要添加一个参数 

00:00:41.550 --> 00:00:44.430
告诉 qplot 我们需要不同类型的图形

00:00:44.430 --> 00:00:48.040
做法是使用叫做箱线图的 geom

00:00:48.040 --> 00:00:50.420
现在我要使用与以前相同的数据集 

00:00:50.420 --> 00:00:53.980
所以我们要保留这个和 qplot

00:00:53.980 --> 00:00:56.320
箱线图的差别是 y 轴将为好友数

00:00:56.320 --> 00:00:58.980
另一方面 x 轴将是

00:00:58.980 --> 00:01:02.080
我们的类别变量男性和女性 或者性别

00:01:02.080 --> 00:01:06.150
注意我们使用连续变量 好友数为 y

00:01:06.150 --> 00:01:10.100
分组或者类别变量为 x

00:01:10.100 --> 00:01:12.790
对于箱线图将始终是这样的

00:01:12.790 --> 00:01:15.450
这里我忘掉一个括号 我来重新调整代码格式

00:01:15.450 --> 00:01:18.980
让它看起来整洁一些 就这样了

00:01:18.980 --> 00:01:21.380
运行此代码 可以看到我们获得两个箱线图

00:01:21.380 --> 00:01:24.910
我们放大来仔细观察 此处和此处的箱体

00:01:24.910 --> 00:01:28.170
涵盖了值的中间 50% 或者称为内四分位范围

00:01:28.170 --> 00:01:31.390
我知道这些箱体很难观察

00:01:31.390 --> 00:01:34.350
因为我们的这幅图中有很多异常数值

00:01:34.350 --> 00:01:37.600
所有这些小点点都是我们数据中的异常数值

00:01:37.600 --> 00:01:40.480
我们还可以看到 y 轴捕获全部好友数

00:01:40.480 --> 00:01:43.170
从 0 一直到 5000

00:01:43.170 --> 00:01:46.790
所以我们在图中没有遗漏任何用户数据

00:01:46.790 --> 00:01:48.920
最后 这条水平线 你可能开始时并没有注意到

00:01:48.920 --> 00:01:52.380
是两个箱线图的中位数 你可能在怀疑

00:01:52.380 --> 00:01:55.830
异常数值怎么就实际成了异常数值 好的

00:01:55.830 --> 00:01:58.700
通常我们认为异常数值是

00:01:58.700 --> 00:02:02.390
位于中位数 IQR 的 1.5倍以外

00:02:02.390 --> 00:02:05.680
所以 这些图中有很多异常数值 我们来调整代码 

00:02:05.680 --> 00:02:08.860
仅关注这两个箱体 我们在下一个编程练习中要让你来做这个工作

00:02:08.860 --> 00:02:12.950
看看你是否可以修改代码来进行调整

